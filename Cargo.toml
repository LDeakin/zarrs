[package]
name = "zarrs"
description = "A library for the Zarr V3 storage format for multidimensional arrays and metadata"
version = "0.2.0"
authors = ["Lachlan Deakin <ljdgit@gmail.com>"]
edition = "2021"
license = "MIT OR Apache-2.0"
repository = "https://github.com/LDeakin/zarrs"
keywords = ["zarr"]
categories = ["encoding"]
exclude = [".dockerignore", ".github", ".editorconfig", "Dockerfile", "coverage.sh", "TODO.md"]

[features]
default = ["transpose", "blosc", "gzip", "sharding", "crc32c", "zstd", "raw_bits", "float16", "bfloat16", "ndarray"]
# Codecs
transpose = ["dep:ndarray"]
blosc = ["dep:blosc"]
gzip = ["dep:flate2"]
sharding = ["dep:ndarray"]
crc32c = ["dep:crc32fast"]
zstd = ["dep:zstd"]
# Optional/extension data types
raw_bits = []
float16 = ["dep:half"]
bfloat16 = ["dep:half"]
# Utilities
ndarray = ["dep:ndarray"] # Adds ndarray utility functions to Array

[lib]
crate-type = ["lib"]

[dependencies]
blosc = { version = "0.2.0", optional = true }
crc32fast = { version = "1.3.2", optional = true }
derive_more = "0.99.17"
dyn-clone = "1.0.13"
flate2 = { version = "1.0.27", optional = true }
half = { version = "2.3.1", optional = true }
inventory = "0.3.12"
itertools = "0.11.0"
ndarray = { version = "0.15.6", optional = true }
num = { version = "0.4.1" }
parking_lot = "0.12.1"
pathdiff = "0.2.1"
rayon = "1.7.0"
safe-transmute = "0.11.2"
serde = { version = "1.0.185", features = ["derive"] }
serde_json = { version = "1.0.105", features = ["preserve_order"] }
thiserror = "1.0.47"
walkdir = "2.3.3"
zstd = { version = "0.12.4", optional = true }

[dev-dependencies]
tempdir = "0.3.7"
ndarray = "0.15.6"
